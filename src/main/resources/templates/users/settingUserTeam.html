<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <meta charset="utf-8">
    <link th:href="@{/css/bootstrap.min.css}"
          href="../css/bootstrap.min.css" rel="stylesheet">
    <style>
        .container {
            max-width: 560px;
        }
        .field-error {
            border-color: #dc3545;
            color: #dc3545;
        }

        ul {

            list-style-type: none;
            padding: 0px;
            margin: 0px;
            width: auto;
            background: lightgray;
            height: auto;
            overflow: auto;
            position: fixed;
            border-radius: 10px;
        }

        li a {
            text-decoration: none;
            padding: 10px;
            display: block;
            color: #000;
            font-weight: bold;
        }

        li a:hover {
            background: #eaea80;
            color: black;
        }

    </style>
    <script th:inline="javascript">
    </script>
    <script type="text/javascript">

        $(document).ready(function(){
            console.log([[${mainChecked}]])
            $('input[value=' + [[${mainChecked}]] + ']').attr("checked",true)

            $('input[type="radio"]').click(function(){
                let teamId = $(this).val()
                $.ajax({
                    type: "POST",
                    url: "/team/editTeam",
                    data: {setId: teamId},
                    success: function(data) {
                        // console.log(data)
                    },
                    error: function (error) {
                        console.log(error);
                    }
                });
            })
        })
    </script>
</head>
<body>
<div class="container">
    <div th:replace="fragments/bodyHeader :: bodyHeader" />

    <div class="py-1 text-center">
        <a th:href="@{/loginHome}" ><img src="images/logo2.jpg" width="300px" height="300px"></a>
    </div>

    <a th:href="@{/loginHome}">홈</a>
    <a th:href="@{/users/settinguser}">내정보</a>
    <a th:href="@{/loginHome}">그룹관리</a>
    <br><br>




    <div>

        <div>
            <table class="table">
                <thead>
                <tr>
                    <th>team_ID</th>
                    <th>team_Name</th>
                    <th>메인그룹 설정</th>
                    <th>그룹관리</th>

                </tr>
                </thead>
                <tbody>
                <tr th:each="team : ${teams}">
                    <td th:text="${team.teamID}">10000</td>
                    <td th:text="${team.teamName}">10</td>
                    <td style="text-align: center">
                        <input type="radio" th:value="${team.getTID()}" name="mainTeam"/>
                    </td>
                    <td>
                        <a href="#" th:href="@{/{tid}/teamEdit (tid=${team.getTID()})}" class="btn btn-primary" role="button">그룹 관리</a>
                    </td>


                </tr>
                </tbody>
            </table>
        </div>

    </div>



    <form th:action="@{/logout}" method="post">
        <button class="w-100 btn btn-dark btn-lg"
                type="submit">
            로그아웃
            <!--                    onclick="location.href='home.html'"-->
        </button>
    </form>

    <div th:replace="fragments/footer :: footer" />
</div> <!-- /container -->
</body>

<script type="text/javascript">
    // function button_event(){
    //
    //     if (confirm("00 그룹을 탈퇴하시겠습니까??") == true){    //확인
    //
    //         document.form.submit();
    //
    //     }else{   //취소
    //
    //         return "/users/settingUserTeam.html";
    //
    //     }
    //
    // }
    // $(document).ready(function(){
    //
    //     $('#Btn').click(function() {
    //
    //         var result = confirm('00 그룹을 탈퇴하시겠습니까??');
    //
    //         if(result) {
    //             //yes
    //             location.replace('SettingUserTeamComplete.html');
    //         } else {
    //          //no
    //         }
    //     });
    // });
</script>

</html>